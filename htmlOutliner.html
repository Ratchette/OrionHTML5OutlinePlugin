<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>Reverse Plugin</title>
	<script type="text/javascript" src="lib/plugin.js"></script>
	<script type="text/javascript" src="lib/htmlparser.js"></script>
	<script type="text/javascript" src="htmlOutliner.js"></script>
</head>

<body>
	<h1>HTML5 Outliner Plugin for Eclipse <a href="http://wiki.eclipse.org/Orion" target="_blank">Orion</a></h1>
	
	<h2>About This Content</h2>
	 
	<p>January 31, 2013</p>	
	<h3>License</h3>
	
	<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Content&quot;).  Unless otherwise 
	indicated below, the Content is provided to you under the terms and conditions of the
	<a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License Version 1.0</a>
	(&quot;EPL&quot;), and the <a href="http://www.eclipse.org/org/documents/edl-v10.html">
	Eclipse Distribution License Version 1.0</a> (&quot;EDL&quot;).
	For purposes of the EPL and EDL, &quot;Program&quot; will mean the Content.</p>
	
	<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is 
	being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
	apply to your use of any object code in the Content.  Check the Redistributor's license that was 
	provided with the Content.  If no such license exists, contact the Redistributor.  Unless otherwise
	indicated below, the terms and conditions of the EPL still apply to any source code in the Content
	and such source code may be obtained at <a href="http://www.eclipse.org">http://www.eclipse.org</a>.</p>
	
	<h3>Third Party Content</h3>
	
	<p>The Content includes items that have been sourced from third parties as set out below. If you 
	did not receive this Content directly from the Eclipse Foundation, the following is provided 
	for informational purposes only, and you should look to the Redistributor's license for 
	terms and conditions of use.</p>
	
	<h4>jsdiff</h4>
	<p>The plug-in includes software developed by the jsdiff project. The jsdiff source
	code can be found in the following source file:</p>
	<ul>
	 <li>web/jsdiff/diff.js</li>
	</ul>
	<p>Your use of jsdiff is subject to the terms and conditions of the modified BSD license.
	A copy of the license is contained in the file <a href="about_files/jsdiff-license.txt" target="_blank">jsdiff-license.txt</a> and is also available at <a href="https://raw.github.com/kpdecker/jsdiff/master/LICENSE" target="_blank">https://raw.github.com/kpdecker/jsdiff/master/LICENSE</a>.
	</p>
	
	<p id="resultsbox">Created by Jennifer Winer</p>

</body>
	
	<script>	
	
var results = document.getElementById("resultsbox");
	
window.onload = function(){
	function parseHTML(contents){
		var handler = new Tautologistics.NodeHtmlParser.HtmlBuilder(
			function (error, dom){
				if(error)
					return null;
			},	
			{includeLocation: true, ignoreWhitespace: true}
		);
			
		var parser = new Tautologistics.NodeHtmlParser.Parser(handler);
		parser.parseComplete(contents);
		return handler.dom;
	}
	
	var outline = [];
	var dom = parseHTML(document.getElementsByTagName('html')[0].innerHTML);
			
	// the algorithm stuff
			
	var outlineTarget = null;
	var section = null;
	var stack = [];	
	var root = null;

	dom.forEach(function(child){
		if(child.name === "body"){
			root = child;
		}
	});
	if(root === null){
		root = dom;
	}
	results.innerHTML = JSON.stringify(root);
};
	</script>
</body>



</html>

<!-- This is a script to test out the capabilities of the html parser
<script>
	window.onload = function(){
		function parseHTML(contents){
			var handler = new Tautologistics.NodeHtmlParser.HtmlBuilder(
				function (error, dom){
					if(error)
						return null;
				},	
				{includeLocation: true}
			);
				
			var parser = new Tautologistics.NodeHtmlParser.Parser(handler);
			parser.parseComplete(contents);
			return handler.dom;
		}
		
		var outline = [];
			
		var html = "<a>text a</a><b id='x'>text b</b><c class='y'>text c</c><d id='z' class='w'><e>text e</e></d><g class='g h i'>hhh</g><yy>hellow</yy><yy id='secondyy'>world</yy><d id='z'>  </d>";
		var dom = parseHTML(html);
		
		var id = Tautologistics.NodeHtmlParser.DomUtils.getElementById("x", dom);
		outline.push({label: id, line: 1});
		
		var classes = Tautologistics.NodeHtmlParser.DomUtils.getElements({ class: "y" }, dom);
		outline.push({label: classes, line: 1});
		
		var multiclass = Tautologistics.NodeHtmlParser.DomUtils.getElements({ class: function (value) { return(value && value.indexOf("h") > -1); } }, dom);
		outline.push({label: multiclass, line: 1});
				
		var name = Tautologistics.NodeHtmlParser.DomUtils.getElementsByTagName("a", dom);
		outline.push({label: name, line: 1});
		
		var text = Tautologistics.NodeHtmlParser.DomUtils.getElementsByTagType("text", dom);
		outline.push({label: text, line: 1});
		
		var nested = Tautologistics.NodeHtmlParser.DomUtils.getElements({ tag_name: "d", id: "z", class: "w" }, dom);
		nested = Tautologistics.NodeHtmlParser.DomUtils.getElementsByTagName("e", nested);
		outline.push({label: nested, line: 1});
		
		nested = Tautologistics.NodeHtmlParser.DomUtils.getElementsByTagType("text", nested);
		outline.push({label: nested, line: 1});
		
		var duplicates = Tautologistics.NodeHtmlParser.DomUtils.getElementsByTagName("yy", dom);
		outline.push({label: duplicates, line: 1});
		
		var single = Tautologistics.NodeHtmlParser.DomUtils.getElements( { tag_name: "yy", id: "secondyy" }, dom);
		outline.push({label: single, line: 1}); 
		
		var single = Tautologistics.NodeHtmlParser.DomUtils.getElements({ tag_name: "d" }, dom);								
		outline.push({label: single, line: 1});

		document.write(html.replace(/</g, "&lt;").replace(/>/g, "&gt;") + "\n" + JSON.stringify(outline, null, '\t').replace(/</g, "&lt;").replace(/>/g, "&gt;"));
	};
</script>

-->